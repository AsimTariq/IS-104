<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Hendelser med jQuery</title>
	<script src="js/jquery-1.8.1.js"></script>
	<!-- jcanvas biblioteket (bygd opp av JQUERY) -->
	<script src="js/jcanvas.min.js"></script>
	
	<link rel="stylesheet" href="css/style.css">	
    <script>
$(function() {
// Definerer variablen canvas med referanse til objekt (i DOM) med id my_canvas
    var canvas = $('#my_canvas');

// Beregner (x,y) posisjon til canvas DOM-element på siden
	var canvasPosition = {
	x: canvas.offset().left,
	y: canvas.offset().top
    	};
		
// Her "fanges" click hendelse opp med jQuery metoden
canvas.on('click', function(e) {
		
// Bruker pageX og pageY for å få posisjonen til mus i forhold til hele siden (ikke my_canvas)
var mouse = {
	x: e.pageX - canvasPosition.x,
	y: e.pageY - canvasPosition.y
	}
var cord = e.pageX + (",") + e.pageY;
var cordx = e.pageX;
var cordy = e.pageY;

			
// oppgave 2a
   	console.log(cord);
		   
		   
			
// oppgave 2b
	$("#keyx").html("Avstanden fra den venstre kanten av Canvas er ");
	$("#keyy").html("Avstanden fra den øvre kanten av Canvas er ");
			
// farge til kordinat
	$("#xred").addClass("red").html(cordx);
	$("#yblue").addClass("blue").html(cordy);
			
			
			
			
// Dette er kode for deloppgave 2
// Her er to metoder kalt opp etter hverandre og begge tilhører objektet canvas
	canvas.clearCanvas({
		x: 0, y: 0,
		width: canvas.width,
		height: canvas.height
		})
		.drawText({
// Her besvares deloppgave 2(lenke i oppgaveteksten for lab3)
	fillStyle: "#9cf",
	  strokeStyle: "#25a",
	  strokeWidth: 1,
	  x: mouse.x, y: mouse.y,
	  font: "8pt Verdana, sans-serif",
	  text: mouse.x + " , " + mouse.y
		});
			
	return false;
	});
}); 
</script>
</head>
<body>
<p>Testside for å "fange" hendelser fra mus.</p>
<p>
	<ul>
		<li>[1]Beregne (x,y) posisjon til Canvas DOM element på siden</li> 
		<li>[2]Finne den globale posisjonen til mus-kursøren i forhold til hele dokumentet</li> 
		<li>[3]For å lokalisere koordinatsenteret (0,0) til Canvas elementet i det øverste venstre hjørnet, og transformere globale koordinater til lokale koordinater, ta differansen mellom den globale museposisjonen beregnet i [2] og Canvas posisjonen fra [1] </li>
	</ul>
</p>
<canvas id="my_canvas" width="200" height="200"></canvas>


<p>
<span id="keyx"></span>  <span id="xred"></span> <br>
<span id="keyy"></span>  <span id="yblue"></span>
</p>
	
</body>
</html>